<!--
 *                                                     __----~~~~~~~~~~~------___
 *                                    .  .   ~~//====......          __--~ ~~
 *                    -.            \_|//     |||\\  ~~~~~~::::... /~
 *                 ___-==_       _-~o~  \/    |||  \\            _/~~-
 *         __---~~~.==~||\=_    -_--~/_-~|-   |\\   \\        _/~
 *     _-~~     .=~    |  \\-_    '-~7  /-   /  ||    \      /
 *   .~       .~       |   \\ -_    /  /-   /   ||      \   /
 *  /  ____  /         |     \\ ~-_/  /|- _/   .||       \ /
 *  |~~    ~~|--~~~~--_ \     ~==-/   | \~--===~~        .\
 *           '         ~-|      /|    |-~\~~       __--~~
 *                       |-~~-_/ |    |   ~\_   _-~            /\
 *                            /  \     \__   \/~                \__
 *                        _--~ _/ | .-~~____--~-/                  ~~==.
 *                       ((->/~   '.|||' -_|    ~~-/ ,              . _||
 *                                  -_     ~\      ~~---l__i__i__i--~~_/
 *                                  _-~-__   ~)  \--______________--~~
 *                                //.-~~~-~_--~- |-------~~~~~~~~
 *                                       //.-~~~--\
 *                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 * 
 *                               ç¥å…½ä¿ä½‘            æ°¸æ— BUG
 -->



<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src='./listener.js'></script>
    <style>
        .box {
            width: 0px;
            height: 0px;
            /* background-color: orange; */
            border: 10px solid red;
            border-left-color: rgba(255, 255, 255, 0);
            border-right-color: rgba(255, 255, 255, 0);
            border-top-color: rgba(255, 255, 255, 0);
        }

        .out {
            height: 500px;
            width: 100%;
            background-color: blanchedalmond;
            position: relative;
        }

        .inner1 {
            background-color: brown;
            width: 100px;
            height: 100px;
            float: left;
        }

        .inner2 {
            margin-left: 100px;
            height: 100px;
            background-color: yellow;

        }

        .inner11 {
            background-color: brown;
            width: 100px;
            position: absolute;
            height: 100%;
        }

        .inner22 {
            left: 100px;
            right: 0;
            background-color: yellow;
            height: 100%;
        }



        body,
        html {
            height: 100%;
            padding: 0;
            margin: 0
        }

        .left {
            background: red;
            width: 100px;
            float: left;
            margin-left: -100%;
            position: relative;
            left: -100px;
            height: 100%;
        }

        .main {
            background: blue;
            width: 100%;
            height: 100%;
            float: left;
        }


        .right {
            background: red;
            width: 200px;
            height: 100%;
            float: left;
            margin-left: -200px;
            position: relative;
            right: -200px;
        }

        .aside {
            width: 100px;
            height: 150px;
            float: left;
            background: #f66;
        }

        .main {
            overflow: hidden;
            height: 200px;
            background: #fcc;
        }
    </style>
</head>

<body>

    <div style="width: 25vw;height: 25vw;padding:5vw;background-color: red;position: relative;">
        <div style="background-color: #fff;width: 50%;height: 50%;position: absolute;top: 0;left: 0;"></div>
    </div>
    <div style="width: 25%;height: 25vw;background-color:black">

    </div>
    <div style="width: 25%;height: 0;padding-bottom: 25%;background-color:#ff0">

    </div>
    <div
        style="width: 0;height: 0;border: 100px solid rebeccapurple;border-left-color: rgba(255, 255, 255, 0);border-right-color: rgba(255, 255, 255, 0);border-top-color: rgba(255, 255, 255, 0)">

    </div>

    <!-- <div class="aside"></div>
    <div class="main"></div> -->
    <!-- <div style="width: 100%;height: 400px;background-color: black;margin: 0;">
        <div style="width: 100px;height: 100px;margin: 20px  20px;background-color: blanchedalmond;float: left;"></div>
        <div style="overflow: hidden; margin-left: 300px; height: 100%;background-color: rebeccapurple;float: left;"></div>
    </div> -->
    <div style="width: 100%;height: 200px;background-color: #fff;margin: 0;"></div>
    <div class="box"></div>
    <input id='in' oninput="onInput()">

    <div class="out">
        <div class="inner11 ">1</div>
        <div class="inner22 ">2</div>
    </div>

    <div
        style="width: 100px;height: 100px;background-color: yellowgreen;display: flex;justify-content: center;margin-bottom: 100px;">
        <div style="width: 50px;height: 50px;background-color: teal;align-self: center;"></div>
    </div>

    <div
        style="width: 100%;height: 100px;background-color: teal;margin-bottom: 100px;display: flex;flex-direction: row;">
        <div style="width: 300px;height: 100%;background-color: tan;">1</div>
        <div style="flex:1; background-color: yellow;border: blanchedalmond solid 10px;">2</div>
        <div style="width: 300px;height: 100%;background-color: tan;"></div>
    </div>
    <div style="width: 100%;height: 100px;background-color: teal;margin-bottom: 100px">
        <div style="width: 300px;height: 100%;background-color: tan; float: left;">1</div>
        <div style="width: 300px;height: 100%;background-color: tan; float: right;">3</div>
        <div style="height: 100%; margin: 0 300px;background-color: blue;">2</div>
    </div>
    <div style="width: 100%;height: 100px;background-color: teal;margin-bottom: 100px;position: relative;">
        <div style="width: 300px;height: 100%;background-color: tan;position: absolute;top: 0;left: 0;">1</div>
        <div style="width: 300px;height: 100%;background-color: tan;position: absolute;top: 0;right: 0;"">3</div>
        <div style=" height: 100%; margin: 0 300px;background-color: blue">2</div>
    </div>
    <div
        style="padding-left: 100px;padding-right: 100px;box-sizing: border-box;width: 100%;height: 100px;margin-bottom: 100px;">
        <div style="width: 100%;height: 100%;background-color: darkgray;float: left;">Main</div>
        <div
            style="float: left;width: 100px;height: 100%;background-color: rebeccapurple;margin-left: -100%;position: relative;left: -100px;">
            Left</div>
        <div
            style="float: left;width: 100px;height: 100%;background-color: rebeccapurple;margin-left: -100px;position: relative;right: -100px;">
            Left</div>
    </div>
    <div style="width: 100%;height: 100px;background-color: rebeccapurple;">
        <div id='www' style="width: 100%;height: 100%;float: left;background-color: salmon;">
            <div id='xxx' style="margin: 0 100px;background-color: red;height: 100%;">1</div>
        </div>
        <div style="width: 100px;height: 100%;float: left;background-color:seagreen;margin-left: -100%;">left</div>
        <div style="width: 100px;height: 100%;float: left;background-color:darkgray;margin-left: -100px;">right</div>
    </div>

    <input id='xxxx' />
</body>
<script>
    // let strrr = `FontSize_XS = 10;
    // export const FontSize_S = 12;
    // export const FontSize_M = 14;
    // export const FontSize_L = 16;
    // export const FontSize_XL = 18;
    // export const FontSize_2XL = 20;
    // export const FontSize_3XL = 22;
    // export const FontSize_4XL = 24;
    // export const FontSize_5XL = 26;
    // export const FontSize_6XL = 28;
    // export const FontSize_7XL = 30;
    // export const FontSize_8XL = 32;
    // export const FontSize_9XL = 34;
    // export const FontSize_10XL = 36;
    // export const FontSize_11XL = 38;
    // export const FontSize_12XL = 40;
    // export const FontSize_13XL = 42;
    // export const FontSize_14XL = 44;
    // export const FontSize_15XL = 46;
    // export const FontSize_16XL = 48;`
    // strrr = strrr.replace(/\s/g, '')
    // strrr = strrr.replace(/(?<=\;)\w+(?=F)/gi, function () {
    //     return ','
    // })
    // strrr = strrr.replace(/\;/g, '')
    // strrr = strrr.replace(/\=\d+\,/g, ',')
    // // console.log(strrr)
    // document.querySelector('#in').oninput = throttle(() => { console.log(1) }, 1000)
    // function debouce(fn, delay) {
    //     let timer = null
    //     return function () {
    //         if (timer) {
    //             clearTimeout(timer)
    //         }
    //         timer = setTimeout(fn, delay)
    //     }
    // }
    // function throttle(fn, delay) {
    //     let flag = true
    //     return function () {
    //         if (flag) {
    //             flag = false
    //             setTimeout(() => {
    //                 fn()
    //                 flag = true
    //             }, delay)
    //         }
    //     }
    // }



    // function throttle_(fn, delay) {
    //     let timer = null
    //     return function () {
    //         if (!timer) {
    //             timer = setTimeout(() => {
    //                 fn()
    //                 timer = null
    //             }, delay);
    //         }
    //     }
    // }
    // function debounce_(fn, delay) {
    //     let timer = null
    //     return function () {
    //         if (timer) {
    //             clearTimeout(timer)
    //         }
    //         timer = setTimeout(() => {
    //             fn()
    //         }, delay);
    //     }
    // }

    // function deepClone(value) {
    //     let data
    //     if (value instanceof Array) {
    //         data = []
    //         for (let key in value) {
    //             data[key] = deepClone(value[key])
    //         }
    //     } else if (value instanceof Function) {
    //         data = value
    //     } else if (value instanceof Object) {
    //         data = {}
    //         for (let key in value) {
    //             data[key] = deepClone(value[key])
    //         }
    //     } else {
    //         data = value
    //     }
    //     return data
    // }
    // let newArr = deepClone(arr_)
    // let arr_ = [1, null, undefined, NaN, () => { }, 3, {}, { a: 1, b: 2, c: { d: 1, f: 2, e: [1, 2, 3, { g: 10 }] } }]
    // let newArr = JSON.parse(JSON.stringify(arr_))
    // arr_[0] = 10
    // arr_[7].a = 10
    // console.log(arr_, newArr)
    // let newArr = JSON.parse(JSON.stringify(arr_))
    // console.log(document.getElementById('xxxx'))
    // document.getElementById('xxxx').oninput = debounce_(() => { console.log(1) }, 1000)
    // document.getElementById('xxxx').addEventListener('input', debounce_(() => { console.log(1) }, 1000))
    // window.addEventListener('mousemove', debounce_(() => { console.log(1) }, 1000))
    //   onInput ()  {
    //         debounce(() => { console.log(1) }, 1000)();
    //     },
    //     debounce (fn, delay) {
    //         return function (...args) {
    //             if (this.timer) clearTimeout(this.timer)
    //             this.timer = setTimeout(() => {
    //                 fn(...args)
    //             }, delay)
    //         }

    //     }


    // let timer = null
    // const onInput = () => {
    //     debounce(() => { console.log(1) }, 1000)();
    // }
    // const debounce = (fn, delay) => {
    //     return function (...args) {
    //         if (timer) clearTimeout(timer)
    //         timer = setTimeout(() => {
    //             fn(...args)
    //         }, delay)
    //     }

    // }
    // new Promise(r => {
    //     r(
    //         new Promise(r => { r(1) })
    //     )
    // })
    //     .then(e => { console.log(1) })
    //     .then(e => { console.log(2) })
    // Promise.resolve(new Promise(r => { r(1) })).then(e => { console.log(1) }).then(e => { console.log(2) })
    // 1 10 2 20
    // new Promise(r => {
    //     r(

    //     )
    // }).then(e => { console.log(10) }).then(e => { console.log(20) }).then(e => { console.log(30) }).then(e => { console.log(40) })
    // script start => async2 end => Promise => script end => promise1 => promise2 => async1 end => setTimeout
    // async function fn() {
    //     await new Promise(resolve => { console.log('p1'); resolve(1) })
    //         .then(e => { console.log('p2',e); return 2 })
    //         .then(e => { console.log('p3',e) })
    // }
    // fn()
    // new Promise(resolve => { resolve('_p1') })
    // .then(e => { console.log('_p2',e) })

    // [1, 2, 3].forEach( e => {
    //      setTimeout(() => {
    //         console.log(e)
    //     }, e*1000);
    // })
    //     function Person(name) {

    //   this.name = name; // Person {name: "why"}
    //   return {}
    // }

    // var p = new Person("why");
    // console.log(p);
    //è¿™é‡Œåªèƒ½ç”¨varå®šä¹‰å˜é‡,let,constå®šä¹‰çš„å˜é‡ï¼Œä¸æ˜¯ç»‘å®šåœ¨windowä¸‹ã€‚
    // var str = 'window';

    // const obj = {
    //     str: 'obj',
    //     nativeFn: function () {
    //         console.log(this.str, 'å½“å‰è¯æ³•ä½œç”¨åŸŸä¸­çš„this');
    //         return function () {
    //             console.log('åŸç”Ÿå‡½æ•°', this.str);
    //         }
    //     },
    //     arrowFn: function () {
    //         console.log(this.str, 'å½“å‰è¯æ³•ä½œç”¨åŸŸä¸­çš„this');
    //         return () => {
    //             console.log('ç®­å¤´å‡½æ•°', this.str);
    //         }
    //     }
    // };
    // const obj2 = {
    //     str: 'obj2'
    // }

    // var nativeFn = obj.nativeFn();
    // var arrowFn = obj.arrowFn();

    // console.log('å‡½æ•°è°ƒç”¨ä¸€ **********');
    // nativeFn();
    // arrowFn();

    // console.log('å‡½æ•°è°ƒç”¨äºŒ **********');
    // nativeFn.call(obj2);
    // arrowFn.call(obj2);

    // console.log('å‡½æ•°è°ƒç”¨ä¸‰ **********');
    // setTimeout(function () {
    //     nativeFn();
    //     arrowFn();
    // }, 50);

    // //å‡½æ•°è°ƒç”¨å››
    // var doc = document.documentElement;
    // doc.str = 'document';
    // doc.addEventListener('click', function () {
    //     console.log('å‡½æ•°è°ƒç”¨å›› **********');
    // }, false);
    // doc.addEventListener('click', nativeFn, false);
    // doc.addEventListener('click', arrowFn, false);

    // function aaa (){
    //     var b = 1
    //     function aa (b=2){

    //         console.log(b)
    //         var b = 3
    //     }
    //     aa()
    // }
    // aaa()
    // var x = 11;
    // var obj = {
    //     obj1: {
    //         x: 22,
    //         say: () => {
    //             console.log(this.x);
    //         }
    //     }
    // }
    // obj.obj1.say(); 
    // let a = {
    //     b() {
    //         let c = {
    //             d :() => {
    //                 console.log(this)
    //             }
    //         }
    //         c.d()
    //     }
    // }
    // // a.b.call(window)
    // let ccc  = a.b()
    // ccc()
    // ------- ---------//
    // åŠ å¼ºç‰ˆå†’æ³¡æ’åº
    // function bubbleS(arr) {
    //     let flag = false
    //     for (let j = arr.length - 1; j > 0; j--) {
    //         if (flag || j === arr.length - 1) {
    //             for (let i = 0; i < j; i++) {
    //                 if (arr[i] > arr[i + 1]) {
    //                     [arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]
    //                     flag = true
    //                 }
    //             }
    //         } else {
    //             return arr
    //         }

    //     }
    //     return arr
    // }

    // console.log(bubbleS([1, 2, 4, 2, 1, 6, 3, 5]))
    // setå»é‡
    // console.log([1, 2, 3, 3, 2, 2, 2].reverse())
    // å¯¹è±¡å»é‡
    // function noRepeat(arr) {
    //     let obj = {}
    //     for (let value of arr) {
    //         if (!obj[value]) {
    //             obj[value] = 1
    //         } else {
    //             obj[value]++
    //         }
    //     }
    //     return Object.keys(obj).map(e=>{
    //         return parseInt(e)
    //     })
    // }
    // ä½¿ç”¨indexOfå»é‡
    // function noRepeat1(arr) {
    //     let newarr = []
    //     arr.forEach(e=>{
    //         if(newarr.indexOf(e)===-1){
    //             newarr.push(e)
    //         }
    //     })
    //     return newarr
    // }
    // jsonpå¤„ç†è·¨åŸŸ
    // var script_ = document.createElement('script');
    // function getData(data) {
    //     console.log(data)
    // }
    // script_.src = 'http://localhost:8000?callback=getData'
    // document.body.appendChild(script_)
    // ä¸‰æ¬¡æ¡æ‰‹


    // let arr = [1, 2, 3, 4, 3, 4, 5, 6, 3, 1, 5, null, undefined, NaN, null, undefined, NaN]
    // let newArr = [...new Set(arr)]
    // console.log(newArr)

    // function removeDuplication1(arr) {
    //     let obj = {}
    //     let newArr = []
    //     for (let value of arr) {
    //         if (!obj[value]) {
    //             obj[value] = 1
    //             newArr.push(value)
    //         }
    //     }
    //     return newArr
    // }
    // function removeDuplication2(arr) {
    //     let newArr = []
    //     for (let value of arr) {
    //         if (newArr.indexOf(value) === -1) {
    //             newArr.push(value)
    //         }
    //     }
    //     return newArr
    // }
    // let obj_temp = { a: 1, b: 2, c: [12, 34, 56], d: { e: 5 }, f: NaN, g: undefined, h: null }
    // function deepClone03(obj) {
    //     // æ–°å»ºç©ºæ‹·è´å¯¹è±¡ï¼Œå…¶åŸå‹é€šè¿‡bject.createè®¾ç½®ä¸ºobjçš„åŸå‹å¯¹è±¡
    //     let copy = Object.create(Object.getPrototypeOf(obj))
    //     // è·å–objå¯¹è±¡ä¸Šçš„æ‰€æœ‰å±æ€§
    //     let propNames = Object.getOwnPropertyNames(obj)
    //     propNames.forEach(e => {
    //         // è¿”å›objæ¯ä¸ªå±æ€§çš„æè¿°å¯¹è±¡
    //         let item = Object.getOwnPropertyDescriptor(obj, e)
    //         // å°†å±æ€§ï¼Œå±æ€§çš„æè¿°å¯¹è±¡æ”¾åˆ°ç©ºæ‹·è´å¯¹è±¡ä¸­
    //         Object.defineProperty(copy, e, item)
    //     })
    //     // è¿”å›æ‹·è´å¯¹è±¡
    //     return copy
    // }
    // console.log(obj_temp)
    // let copy_obj = deepClone03(obj_temp)
    // obj_temp.a = 11
    // obj_temp.c[0] = 1212
    // obj_temp.d.e = 55
    // console.log(obj_temp, copy_obj)

    // function shuffle_sort(arr) {
    //     return arr.sort(() => (Math.random() - 0.5))
    // }
    // function shuffle(arr) {
    //     for (let i = arr.length - 1; i > 0; i--) {
    //         let changeI = Math.floor(Math.random() * i)
    //         console.log(changeI);
    //         [arr[i], arr[changeI]] = [arr[changeI], arr[i]]
    //     }
    //     return arr
    // }
    // let arr_01 = [1, 2, 3, 4, 5, 6]
    // let arr_02 = [1, 2, 3, 4, 5, 6]
    // console.log(shuffle_sort(arr_01), shuffle(arr_02))

    // Function.prototype.my_call = function (thisArg, ...args) {
    //     // thisArg ä¸å­˜åœ¨thisæŒ‡å‘window
    //     thisArg = thisArg || window
    //     // é˜²æ­¢å±æ€§åè¦†ç›–åŸå…ˆå¯¹è±¡ä¸­æŸä¸ªå±æ€§
    //     let fn = Symbol('fn')
    //     // è°ƒç”¨my_callæ˜¯æˆ‘ä»¬éœ€è¦æ”¹å˜thisæŒ‡å‘çš„å‡½æ•°ï¼Œå°†è¿™ä¸ªå‡½æ•°èµ‹å€¼ç»™thisArg.fnï¼Œè¿™æ ·fnçš„thisæŒ‡å‘åœ¨ä¸‹é¢ã€ thisArg.fn(...args)ã€‘æŒ‡å‘æŒ‡å®šçš„å¯¹è±¡thisArg
    //     thisArg.fn = this
    //     let result = thisArg.fn(...args)
    //     // ä½¿ç”¨å®Œæ¯•åˆ é™¤fnï¼Œä¸å½±å“æŒ‡å®šå‡½æ•°æ•°æ®
    //     delete thisArg.fn
    //     // è¿”å›æ•°æ®
    //     return result

    // }
    // Function.prototype.my_apply = function (thisArg, args) {
    //     // thisArg ä¸å­˜åœ¨thisæŒ‡å‘window
    //     thisArg = thisArg || window
    //     // é˜²æ­¢å±æ€§åè¦†ç›–åŸå…ˆå¯¹è±¡ä¸­æŸä¸ªå±æ€§
    //     let fn = Symbol('fn')
    //     // è°ƒç”¨my_callæ˜¯æˆ‘ä»¬éœ€è¦æ”¹å˜thisæŒ‡å‘çš„å‡½æ•°ï¼Œå°†è¿™ä¸ªå‡½æ•°èµ‹å€¼ç»™thisArg.fnï¼Œè¿™æ ·fnçš„thisæŒ‡å‘åœ¨ä¸‹é¢ã€ thisArg.fn(...args)ã€‘æŒ‡å‘æŒ‡å®šçš„å¯¹è±¡thisArg
    //     thisArg.fn = this
    //     let result = thisArg.fn(...args)
    //     // ä½¿ç”¨å®Œæ¯•åˆ é™¤fnï¼Œä¸å½±å“æŒ‡å®šå‡½æ•°æ•°æ®
    //     delete thisArg.fn
    //     // è¿”å›æ•°æ®
    //     return result

    // }
    // function say(word = 'yeah') {
    //     console.log(this)
    //     console.log(word)
    // }
    // Function.prototype.my_bind = function (thisArg, ...args) {
    //     // thisArg ä¸å­˜åœ¨thisæŒ‡å‘window
    //     thisArg = thisArg || window
    //     // é˜²æ­¢å±æ€§åè¦†ç›–åŸå…ˆå¯¹è±¡ä¸­æŸä¸ªå±æ€§
    //     let fn = Symbol('fn');
    //     // thisArg.fn èµ‹å€¼ä¸ºè°ƒç”¨my_bindçš„å‡½æ•°
    //     thisArg.fn = this
    //     // è¿”å›ä¸€ä¸ªé—­åŒ…ï¼Œé—­åŒ…ä¿æŒå¯¹thisArgçš„å¼•ç”¨
    //     return function () {
    //         thisArg.fn(...args)
    //         delete thisArg.fn
    //     }
    // }
    // function say(word = 'yeah') {
    //     console.log(this)
    //     console.log(word)
    // }
    // let test_obj = { name: 1 }
    // console.log(test_obj, 'ring')
    // let newfn = say.my_bind(test_obj, 'aha')
    // newfn()
    // console.log(test_obj, 'ring')


    // åŸå‹é“¾ç»§æ‰¿
    // function Human() {
    //     this.hobby = ['eat']
    // }
    // Human.prototype.location = ['Earth']
    // function Man(name) {
    //     this.name = name
    //     this.activity = ['run']
    // }
    // Man.prototype = new Human()
    // Man.prototype.constructor = Man

    // // å®ç°
    // let man1 = new Man('ğŸ’')
    // console.log(Object.getOwnPropertyDescriptor(man1.__proto__, 'hobby'));



    // let man2 = new Man('coco')
    // man1.hobby = 'sing'
    // man1.activity = 'sleep'
    // man1.location = 'China'
    // console.log(man1);
    // console.log(man2);
    // // å®ç°
    // let man1 = new Man('ğŸ’')
    // let man2 = new Man('coco')
    // man1.hobby.push('sing')
    // man1.activity.push('sleep')
    // man1.location.push('China')
    // console.log(man1);
    // console.log(man2);

    // var obj = {
    //     _arr: []
    // };
    // Object.defineProperty(obj, 'arr', {
    //     get: function () {
    //         console.log('get');
    //         return this._arr
    //     },
    //     set: function (value) {
    //         console.log('set');
    //         this._arr = value
    //     }
    // })


    // // æ„é€ å‡½æ•°+åŸå‹é“¾ç»§æ‰¿
    // function Human(name) {
    //     this.name = name
    //     this.hobby = ['eat']
    // }
    // function Man(name) {
    //     Human.call(this, name)
    //     this.activity = ['run']
    // }
    // Man.prototype = new Human()
    // Man.prototype.constructor = Man

    // let man1 = new Man('kiki')
    // let man2 = new Man('gigi')
    // man1.name = 'kk'
    // man1.activity.push('ring')
    // man1.hobby.push('sleep')
    // console.log(man1, man2)

    // // åŸå‹å¼ç»§æ‰¿
    // let human = {
    //     hobby: ['eat']
    // }
    // let man = Object.create(human, {
    //     name: {
    //         value:'xio'
    //     }
    // })
    // console.log(man);

    // function createObj(obj) {
    //     var clone = Object(obj)
    //     clone.hobby = ['sing', 'jump']
    //     return clone
    // }
    // let human = {
    //     activity: ['exit']
    // }
    // let man1 = createObj(human)
    // console.log(man1);

    // // å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿
    // function Human(name) {
    //     this.name = name
    //     this.hobby = ['sing', 'jump']
    // }
    // function Man(name) {
    //     Human.call(this, name)
    //     this.activity = ['rap']
    // }

    // // æˆ‘è§‰å¾—è¿™æ³¢æ“ä½œåªæ˜¯ä¿æŒprototype_cloneå¿…é¡»å¾—æ˜¯ä¸ªå¯¹è±¡ï¼Œè‡³å°‘ä¹Ÿæ˜¯ä¸ªç©ºå¯¹è±¡ï¼Œå¦‚æœHuman.prototype === null è¿™ç§ ï¼Œä¸ç„¶prototype_clone.constructor = Man å°±æ“ä½œä¸äº†äº†
    // let prototype_clone = Object(Human.prototype)

    // // ä¸‹é¢å°±æ˜¯æ­£å¸¸çš„ä¿®æ”¹prototypeæ„é€ å™¨ ç„¶åç»™Manä¸€ä¸ªæ”¹é€ ä¹‹åçš„çˆ¶çš„åŸå‹å¯¹è±¡
    // prototype_clone.constructor = Man
    // Man.prototype = prototype_clone

    // let man1 = new Man('kiki')
    // let man2 = new Man('gigi')
    // man1.name = 'kk'
    // man1.activity.push('ring')
    // man1.hobby.push('sleep')
    // console.log(man1, man2)


    // class Human {
    //     constructor(name) {
    //         this.name_ = name || 'human'
    //         this.activity = 'sleep'
    //     }
    //     run(time) {
    //         console.log(this)
    //         console.log(`at ${time},${this.name_} is ${this.activity}ing`);
    //     }
    //     static fight() {
    //         console.log(this);
    //         console.log(`${this.name} kill others`);
    //     }
    // }
    // class Man extends Human {
    //     constructor(name, food) {
    //         super(name)
    //         this.food = food
    //     }
    // }

    // let man1 = new Man('newman', 'apple')

    // function sleep1(interval) {
    //     return new Promise(resolve => {
    //         setTimeout(resolve, interval);
    //     })
    // }
    // async function run() {
    //     console.log('prepare')
    //     await sleep1(2000)
    //     console.log('run')
    // }
    // run()

    // function sleep(time) {
    //     let date = new Date()
    //     while (new Date() - date < time) {

    //     }
    //     console.log(date, new Date(), new Date() - date);
    // }
    // console.log(1)
    // sleep(2000)
    // console.log(2)

    // let PENDING = 'pending'
    // let RESOLVED = 'resolved'
    // let REJECTED = 'rejected'

    // function Promise_(excutor) {
    //     // Promise_çŠ¶æ€
    //     this.status = PENDING
    //     // Promise_æˆåŠŸçš„å€¼
    //     this.value = undefined
    //     // Promise_å¤±è´¥çš„åŸå› 
    //     this.reason = undefined
    //     // æˆåŠŸå›è°ƒé˜Ÿåˆ—
    //     this.resolveQue = []
    //     // å¤±è´¥å›è°ƒé˜Ÿåˆ—
    //     this.rejectQue = []

    //     const resolve = (value) => {
    //         if (this.status === PENDING) {
    //             // Promise_çŠ¶æ€ æˆåŠŸ
    //             this.status = RESOLVED
    //             // ä¿å­˜æˆåŠŸçš„å€¼
    //             this.value = value
    //             // æ‰§è¡ŒæˆåŠŸå›è°ƒé˜Ÿåˆ—
    //             this.resolveQue.forEach(fn => {
    //                 fn(value)
    //             })
    //         }
    //     }
    //     const reject = (reason) => {
    //         if (this.status === PENDING) {
    //             // Promise_çŠ¶æ€ å¤±è´¥
    //             this.status = REJECTED
    //             // ä¿å­˜å¤±è´¥çš„åŸå› 
    //             this.reason = reason
    //             // æ‰§è¡Œå¤±è´¥å›è°ƒé˜Ÿåˆ—
    //             this.rejectQue.forEach(fn => {
    //                 fn(reason)
    //             })
    //         }
    //     }
    //     // å¦‚æœexcutorå‡ºé”™ Promise_å¤±è´¥
    //     try {
    //         excutor(resolve, reject)
    //     } catch (error) {
    //         reject(error)
    //     }
    // }
    // function resolvePromise_(x, resolve, reject, promise2) {
    //     // x ä¸èƒ½ === promise2
    //     if (x === promise2) {
    //         return reject(new Error('circle'))
    //     }
    //     if (x && (typeof x === ' function' || typeof x === 'object')) {
    //         try {
    //             // åˆ¤æ–­xçš„å€¼æ˜¯å¦å®ç°äº†thenable 
    //             if (typeof x.then === 'function') {
    //                 x.then(y => {
    //                     resolvePromise_(y, resolve, reject, promise2)
    //                 }, e => {
    //                     reject(e)
    //                 })
    //             } else {
    //                 resolve(x)
    //             }
    //         } catch (error) {
    //             reject(error)
    //         }

    //     } else {
    //         resolve(x)
    //     }
    // }
    // Promise_.prototype.then = function (onResolve, onReject) {




    //     return promise2 = new Promise_((resolve, reject) => {
    //         // onFulfilledå¦‚æœä¸æ˜¯å‡½æ•°ï¼Œå°±å¿½ç•¥onFulfilledï¼Œç›´æ¥è¿”å›value
    //         onResolve = typeof onResolve === 'function' ? onResolve : () => this.value;
    //         // onRejectedå¦‚æœä¸æ˜¯å‡½æ•°ï¼Œå°±å¿½ç•¥onRejectedï¼Œç›´æ¥æ‰”å‡ºé”™è¯¯
    //         onReject = typeof onReject === 'function' ? onReject : err => { throw err };

    //         // å¦‚æœçŠ¶æ€æ˜¯RESOLVED, ä¼ å…¥æˆåŠŸå€¼,æ‰§è¡ŒonResolve
    //         if (this.status === RESOLVED) {
    //             try {
    //                 let x = onResolve(this.value)
    //                 // resolve(x)
    //                 resolvePromise_(x, resolve, reject, promise2)
    //             } catch (error) {
    //                 reject(error)
    //             }


    //         }
    //         // å¦‚æœçŠ¶æ€æ˜¯REJECTED,ä¼ å…¥å¤±è´¥åŸå› , æ‰§è¡ŒonReject
    //         if (this.status === REJECTED) {
    //             try {
    //                 onReject(this.reason)
    //                 // reject(x)
    //                 resolvePromise_(x, resolve, reject, promise2)
    //             } catch (error) {
    //                 reject(error)
    //             }

    //         }
    //         // å¦‚æœçŠ¶æ€æ˜¯PENDING, æˆåŠŸå¤±è´¥çš„å‡½æ•°æ”¾å…¥é˜Ÿåˆ—ç­‰å¾…æ‰§è¡Œ
    //         if (this.status === PENDING) {
    //             // ä¿å­˜æˆåŠŸçš„å›è°ƒ
    //             this.resolveQue.push((value) => {
    //                 try {
    //                     let x = onResolve(value)
    //                     resolvePromise_(x, resolve, reject, promise2)
    //                 } catch (error) {
    //                     reject(error)
    //                 }

    //             })
    //             // ä¿å­˜å¤±è´¥çš„å›è°ƒ
    //             this.rejectQue.push((reason) => {
    //                 try {
    //                     let x = onReject(reason)
    //                     resolvePromise_(x, resolve, reject, promise2)
    //                 } catch (error) {
    //                     reject(error)
    //                 }

    //             })
    //         }
    //     })
    // }

    // new Promise_((resolve, reject) => {
    //     setTimeout(() => {
    //         resolve(1)
    //     }, 1000);
    // }).then(e => {
    //     console.log(e, 1);
    //     return new Promise_(resolve => {
    //         resolve(
    //             new Promise_(resolve => {
    //                 reject(2)
    //             })
    //         )
    //     })
    // }, e => {
    //     console.log(e)
    // }).then(e => {
    //     console.log(e, 2);
    //     return 3
    // }, e => {
    //     console.log(e)
    // }).then(e => {
    //     console.log(e, 3);
    // }, e => {
    //     console.log(e)
    // })

    // nodeGet(1, function (err, data) {
    //     if (err) {
    //         console.log(err)
    //     } else {
    //         console.log(data)
    //     }
    // })

    Promise.myAll = function (Promises) {
        let arr = []
        let len = Promises.length
        return new Promise(resolve => {
            Promises.forEach((e, i) => {
                e.then(ee => { arr.push(ee); console.log('i len', i, len);; if (i === len - 1) { resolve(arr) } })
            })
        })
    }
    Promise.myRace = function (Promises) {
        return new Promise(resolve => {
            Promises.forEach(e => {
                e.then(ee => resolve(ee))
            })

        })
    }
    // Promise.myRace([new Promise(resolve => { setTimeout(() => { resolve(1) }, 1000) }), new Promise(resolve => { setTimeout(() => { resolve(2) }, 2000) })]).then(e => { console.log(e, 'res'); })
    // Promise.myAll([new Promise(resolve => { setTimeout(() => { resolve(1) }, 1000) }), new Promise(resolve => { setTimeout(() => { resolve(2) }, 2000) })]).then(e => { console.log(e, 'res'); })

    function randomPromise() {
        let num = Math.random()
        return num > 17 ? new Promise(resolve => {
            resolve(1)
        }) : new Promise((resolve, reject) => { reject(2) })
    }

    Promise.retry = function (randomPromise) {
        let i = 5
        return new Promise((resolve, reject) => {
            function fn() {
                i--
                randomPromise().then(resolve, e => {
                    console.log('e', e);
                    if (i > 0) {
                        fn()
                    } else {
                        reject(e)
                    }
                })
            }
            fn()
        })
    }
    // Promise.retry(randomPromise).then(e => {
    //     console.log('ee', e);
    // }, e => {
    //     console.log('err', e);
    // })

    // function TaskControl(tasks, count) {
    //     this.taskQue = tasks || []
    //     this.count = count || 10
    //     setTimeout(() => { this.run }, 0)
    // }
    // TaskControl.prototype.addTask = function (task) {
    //     this.taskQue.push(task)
    // }
    // TaskControl.prototype.run = function () {
    //     // 
    //     if (this.taskQue.length === 0) {
    //         return
    //     }
    //     let min = Math.min(this.taskQue.length, this.count)
    //     for (let i = 0; i < min; i++) {
    //         this.max--
    //         let task = this.taskQue.shift()
    //         task().then(null, null).finally(e => {
    //             this.max++
    //             this.run()
    //         })

    //     }
    // }
    // Promise.myAll = function (arr) {
    //     // ç»“æœä¿å­˜æ•°ç»„
    //     let resArr = []
    //     // è®¡æ•°å™¨ åˆ¤æ–­å½“å‰arræ˜¯å¦thenå®Œ
    //     let promiseCount = 0
    //     // è¿”å›ä¸€ä¸ªæ–°çš„Promiseï¼Œå¦‚æœarræŸæä¸ªå¤±è´¥åˆ™è¯¥Promiseç»“æœä¸ºå¤±è´¥ï¼Œå¦‚æœå…¨éƒ¨æˆåŠŸåˆ™ä¸ºæˆåŠŸï¼Œ
    //     return new Promise((resolve, reject) => {
    //         arr.forEach((e, i) => {
    //             e.then(value => {
    //                 // æ­¤å¤„å¾—ç”¨ä¸‹æ ‡èµ‹å€¼ ä¿è¯è¿”å›å‡ºå»çš„æ•°æ®é¡ºåºä¸ä¼ å…¥Promiseæ•°ç»„ä¸€è‡´
    //                 resArr[i] = value
    //                 promiseCount++
    //                 if (arr.length === promiseCount) {
    //                     return resolve(resArr)
    //                 }
    //             }, err => { return reject(err) })
    //         })
    //     })
    // }
    // let p1 = new Promise(resolve => {
    //     setTimeout(() => {
    //         resolve(1000)
    //     }, 1000)
    // })
    // let p2 = new Promise(resolve => {
    //     setTimeout(() => {
    //         resolve(2000)
    //     }, 2000)
    // })
    // let p3 = Promise.resolve('success')
    // let p4 = new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //         reject(3000)
    //     }, 3000)
    // })

    // Promise.myAll([p1, p2, p3, p4]).then(e => { console.log(e); }).catch(e => { console.log(e); }).then(e => { console.log(e); })

    // Promise.retry = function (fn, count) {
    //     // æ¥å—ä¸€ä¸ªåˆ¶é€ Promiseçš„å‡½æ•° ä¸é‡è¯•æ¬¡æ•° è¿”å›Promise
    //     return new Promise((resolve, reject) => {
    //         // ä½¿ç”¨é€’å½’æ–¹å¼æ‰§è¡ŒfnTemp ï¼š åœ¨countæ¬¡æ•°å†… åˆ¤æ–­å¦‚æœfnç”Ÿæˆçš„Promiseæœ€ç»ˆçŠ¶æ€ä¸æ˜¯æˆåŠŸ åˆ™ç»§ç»­å›è°ƒ fnç»§ç»­ç”Ÿæˆæ–°çš„Promise ç›´åˆ°æˆåŠŸ æˆ–è€…æ¬¡æ•°ç”¨å®Œç›´æ¥reject(err)
    //         function fnTemp() {
    //             fn().then(resolve, err => {
    //                 console.log(count);
    //                 count--
    //                 if (count > 0) {
    //                     return fnTemp()
    //                 }
    //                 reject(err)
    //             })
    //         }
    //         fnTemp()
    //     })
    // }
    // // éšæ„Promise ç”Ÿæˆå‡½æ•°å™¨æ¢°
    // function randomP() {
    //     return new Promise((resolve, reject) => {
    //         return Math.random() > 0.5 ? resolve('success') : reject('err')
    //     })
    // }
    // // ä½¿ç”¨
    // Promise.retry(randomP, 5).then(e => { console.log(e) }).catch(err => { console.log(err); })
    // --------------------- å›è°ƒå‡½æ•°æ–¹å¼æ‰§è¡Œ
    // // å›è°ƒå‡½æ•°
    // function killHater(param1, param2, cb) {
    //     let res = param1 + param2
    //     cb(res)
    // }
    // // æ­£å¸¸å›è°ƒæ‰§è¡Œ
    // killHater(1, 3, (e) => { console.log(e, 'å›è°ƒå‡½æ•°æ‰§è¡Œ') })
    // // --------------------- Promiseæ–¹å¼æ‰§è¡Œ
    // // å°è£… å›è°ƒ=ã€‹Promise å‡½æ•°
    // function changeP(fn) {
    //     return function () {
    //         // æ‹¿åˆ°æ‰€æœ‰é™¤äº†å›è°ƒä¹‹å¤–çš„å‚æ•°
    //         let args = [...arguments]
    //         // è¿”å›Promise
    //         return new Promise((resolve, reject) => {
    //             // æ·»åŠ è‡ªå®šä¹‰å›è°ƒ å°†fnä¼ å…¥çš„å€¼ä¿å­˜åˆ°å½“å‰Promise valueä¸­ï¼Œä»è€Œå¯ä»¥åœ¨thenä¸­è·å–
    //             function cb(e) {
    //                 resolve(e)
    //             }
    //             // å°†å›è°ƒæ”¾åˆ°å‚æ•°åˆ—è¡¨ä¸­
    //             args.push(cb)
    //             // fnæ‰§è¡Œï¼Œå‰é¢çš„å‚æ•°éƒ½æ˜¯æ™®é€šå‚æ•°ï¼Œæœ€åä¸€ä¸ªæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰å›è°ƒï¼Œè¯¥å›è°ƒä½œç”¨ï¼šå½“fnæ‰§è¡Œåˆ°è¯¥å›è°ƒæ„å‘³ç€æˆ‘ä»¬å¯ä»¥æŠŠfnä¼ å…¥çš„å€¼(å¦‚æœæœ‰çš„è¯ï¼Œæ²¡æœ‰å°±æ˜¯undefined)resolveï¼Œæˆ‘ä»¬å¯ä»¥åœ¨thenä¸­æ¥æ”¶ï¼Œç„¶åå¤„ç†æˆ‘ä»¬åŸå…ˆå›è°ƒä¸­çš„äº‹
    //             fn.apply(null, args)
    //         })
    //     }
    // }
    // let fnP = changeP(killHater)
    // fnP(2, 3).then(e => { console.log(e, 'Promiseæ‰§è¡Œ'); })

    // // ---æ§åˆ¶æœ€å¤§å¹¶å‘æ•°MaxRunå®ç°---
    // function MaxRun() {
    //     // ä»»åŠ¡é˜Ÿåˆ—
    //     this.runList = []
    //     // æœ€å¤§å¹¶å‘æ•°
    //     this.maxCount = 2
    // }
    // // æ·»åŠ ä»»åŠ¡æ–¹æ³•
    // MaxRun.prototype.add = function (args) {
    //     Array.prototype.push.apply(this.runList, args)
    // }
    // // è·‘èµ·æ¥
    // MaxRun.prototype.run = function () {
    //     // å¦‚æœä»»åŠ¡é˜Ÿåˆ—æ²¡æœ‰ä»»åŠ¡ return
    //     if (this.runList.length === 0) return
    //     // ä»»åŠ¡é˜Ÿåˆ—
    //     let runList = this.runList
    //     // // æœ€å¤§å¹¶å‘æ•°
    //     // let maxCount = this.maxCount
    //     // å–ä»»åŠ¡é˜Ÿåˆ—æ•°ä¸æœ€å¤§å¹¶å‘æ•°æœ€å°å€¼ ä½œä¸ºä¸‹é¢ä»»åŠ¡ä»»åŠ¡è¿è¡Œæ•°é‡
    //     let min = Math.min(runList.length, this.maxCount)
    //     // forå¾ªç¯è¿è¡Œèµ·æ¥
    //     for (let i = 0; i < min; i++) {
    //         // è¿è¡Œä¸€æ¬¡maxCount--ï¼Œå› ä¸ºPromiseæ˜¯å¾®ä»»åŠ¡ï¼Œå½“minæ¬¡ä¹‹åï¼Œæ­¤æ—¶æ¯ä¸€ä¸ªPromiseéƒ½è¿˜æ²¡å¼€å§‹then

    //         // maxCountä¸ºæœ€åå‰©ä½™çš„èƒ½æ·»åŠ ä»»åŠ¡çš„å‘ä½ï¼Œå› ä¸ºmaxCount ä¸ ä»»åŠ¡é˜Ÿåˆ—é•¿åº¦å–æœ€å°å€¼ 
    //         // å¦‚æœmaxCountæ¯”ä»»åŠ¡é˜Ÿåˆ—é•¿åº¦å° é‚£ä¹ˆmaxCountåœ¨è¿™ä¸€æ³¢forå¾ªç¯ç»“æŸå°±ä¼šä¸º0ï¼Œæ­¤æ—¶æ„å‘³ç€æ²¡æœ‰ä»»åŠ¡å¯ä»¥ç»§ç»­æ‰§è¡Œ
    //         // å¦‚æœmaxCountæ¯”ä»»åŠ¡é˜Ÿåˆ—é•¿åº¦å¤§ é‚£ä¹ˆmaxCountåœ¨è¿™ä¸€æ³¢forå¾ªç¯ç»“æŸå°±ä¼šæ˜¯maxCount-é˜Ÿåˆ—é•¿åº¦ï¼Œå‰©ä¸‹å¤šå°‘å°±æ„å‘³ç€è¿˜æœ‰å¤šå°‘å‘ä½å¯ä»¥æ¥ä»»åŠ¡æ‰§è¡Œ

    //         // 
    //         this.maxCount--
    //         // ä»»åŠ¡é˜Ÿåˆ—å–ä¸€ä¸ªå‡ºæ¥thenï¼ŒåŸä»»åŠ¡é˜Ÿåˆ—å‰Šå‡ä¸€ä¸ªä»»åŠ¡
    //         let task = runList.shift()
    //         // æˆåŠŸå¤±è´¥è¯¥å¹²å•¥å¹²å•¥ æœ€åæ‰§è¡Œå®Œä¸€ä¸ªè¦å°†maxCount++ å°†ç”¨å®Œçš„å‘ä½è®©å‡ºæ¥ å¯ä»¥æœ‰åˆ«çš„ä»»åŠ¡è¿›æ¥
    //         task.then(e => e, err => err).finally(e => {
    //             this.maxCount++
    //             console.log('å‰©ä½™å‘ä½', this.maxCount);
    //             // æ‰§è¡Œrun æ„å‘³ç€åªè¦æœ‰å‘ä½ é˜Ÿåˆ—æœ‰æ•°æ® å°±èƒ½ä¸€ç›´æ‰§è¡Œé˜Ÿåˆ— å¦‚æœä¸æ‰§è¡Œrun ï¼ˆå¦‚æœä»»åŠ¡é˜Ÿåˆ—é•¿åº¦æ˜¯10 maxcountæ˜¯2ï¼Œé‚£æ²¡æ‰§è¡Œ2æ¬¡å°±ç»“æŸäº† åé¢çš„ä»»åŠ¡ä¸ä¼šç»§ç»­æ‰§è¡Œï¼‰
    //             this.run()
    //         })
    //     }

    // }
    // // ---ä¸‹é¢ä¸ºæµ‹è¯•ä»£ç ---
    // // Promiseç”Ÿæˆå™¨
    // function createP(n) {
    //     let res = []
    //     for (let i = 0; i < n; i++) {
    //         res.push(new Promise(resolve => { setTimeout(() => { resolve(1000 * i / 2) }, 1000 * i / 2) }))
    //     }
    //     return res
    // }
    // // åˆ›å»ºmaxRunå¯¹è±¡
    // let maxRun = new MaxRun()
    // // æ·»åŠ 10ä¸ªPromiseä»»åŠ¡åˆ°ä»»åŠ¡é˜Ÿåˆ—
    // maxRun.add(createP(10))
    // // æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—
    // maxRun.run()



    // class EventEmitter {
    //     constructor() {
    //         if (!this.handles) {
    //             this.handles = Object.create(null);
    //         }
    //     }

    //     on(evt, cb) {
    //         if (!this.handles[evt]) {
    //             this.handles[evt] = [];
    //         }
    //         this.handles[evt].push(cb);
    //     }

    //     emit(evt, ...arg) {
    //         if (!!this.handles[evt]) {
    //             this.handles[evt].forEach((item, i) => {
    //                 if (typeof item === 'function') {
    //                     Reflect.apply(item, this, arg);
    //                 } else {
    //                     return console.error(`${item} is not a function in [${i}]`)
    //                 }
    //             })
    //         }
    //     }
    // }
    // let e = new EventEmitter()
    // e.on('fn', (param) => {
    //     console.log('1', param);
    // })
    // e.on('fn', (param) => {
    //     console.log('2', param);
    // })
    // setTimeout(() => { e.emit('fn', 1) }, 1000)

    // class EventEmitter_mine {
    //     constructor() {
    //         this.handles = {}
    //     }

    //     add(key, handle, once = false) {
    //         if (typeof handle === 'function') {
    //             handle.once = once
    //             this.handles[key] = this.handles[key] || []
    //             this.handles[key].push(handle)
    //         } else {
    //             throw new Error('handle must be a function')
    //         }
    //     }
    //     on(key, handle) {
    //         this.add(key, handle)
    //     }
    //     once(key, handle) {
    //         this.add(key, handle, true)
    //     }
    //     emit(key, ...args) {
    //         if (this.handles[key].length) {
    //             this.handles[key].forEach((fn, i, arr) => {
    //                 if (typeof fn === 'function') {
    //                     fn.call(this, ...args)
    //                     if (fn.once) {
    //                         arr[i] = undefined
    //                     }
    //                 }
    //             })
    //         }
    //     }
    //     off(key, handle) {
    //         if (typeof handle === 'function') {
    //             if (this.handles[key]) {
    //                 const index = this.handles[key].findIndex(e => e === handle)
    //                 index >= 0 && this.handles[key].splice(index, 1)
    //             }
    //         } else {
    //             throw new Error('handle must be a function')
    //         }
    //     }

    // }
    // function aa(e) { console.log(e, 'aa'); }
    // function bb(e) { console.log(e, 'bb'); }
    // function cc(e) { console.log(e, 'cc'); }
    // let ee = new EventEmitter_mine()
    // ee.on('cl', aa)
    // ee.once('cl', bb)
    // ee.on('cl', cc)
    // // ee.once('cl', cc)
    // // ee.on('cl', cc)

    // ee.emit('cl', 'nice day')

    // function my_instanceOf(leftValue, rightValue) {
    //     if (leftValue === null || leftValue === undefined || !leftValue.__proto__) return false
    //     let leftPro = leftValue.__proto__
    //     let rightPro = rightValue.prototype

    //     while (true) {
    //         if (leftPro === null) {
    //             return false
    //         }
    //         if (leftPro === rightPro) {
    //             return true
    //         }
    //         leftPro = leftPro.__proto__
    //     }
    // }
    // let arr = [1, '', true, [], {}, () => { }, null, undefined]

    // console.log('---------Number---------');
    // arr.forEach(e => {
    //     console.log(my_instanceOf(e, Number));
    // })
    // console.log('---------String---------');
    // arr.forEach(e => {
    //     console.log(my_instanceOf(e, String));
    // })
    // console.log('---------Boolean---------');
    // arr.forEach(e => {
    //     console.log(my_instanceOf(e, Boolean));
    // })
    // console.log('---------Array---------');
    // arr.forEach(e => {
    //     console.log(my_instanceOf(e, Array));
    // })
    // console.log('---------Object---------');
    // arr.forEach(e => {
    //     console.log(my_instanceOf(e, Object));
    // })
    // console.log('---------Function---------');
    // arr.forEach(e => {
    //     console.log(my_instanceOf(e, Function));
    // })

    // function Person(name, age) {
    //     this.name = name
    //     this.age = age

    //     this.run = () => {
    //         console.log('run');
    //     }
    // }

    // function myNew(fn, ...args) {
    //     let obj = {}
    //     obj.__proto__ = fn.prototype
    //     fn.apply(obj, args)
    //     return obj
    // }
    // let person = myNew(Person, 'lily', 1)
    // console.log(person);
    // let arr = [1, 2, ['3', 4, [5, 6, [7, 8, [9]]]]]
    // // é€’å½’
    // function myFlat(arr) {
    //     let res = []
    //     arr.forEach(e => {
    //         if (e instanceof Array) {
    //             res = res.concat(myFlat(e))
    //         } else {
    //             res.push(e)
    //         }
    //     })
    //     return res
    // }
    // console.log(myFlat(arr),'é€’å½’');
    // // reduceé€’å½’
    // function myFlatten(arr) {
    //     return arr.reduce((prev, next) => {
    //         return prev.concat(Array.isArray(next) ? myFlatten(next) : next)
    //     }, [])
    // }
    // console.log(myFlatten(arr));
    // // ä½¿ç”¨æ­£åˆ™
    // let str = JSON.stringify(arr)
    // str = str.replace(/(\[|\])/g, '')
    // str = str.split(',')
    // str = '[' + str + ']';
    // str = JSON.parse(str)
    // console.log(str);

    // function my_filter(fn, arr) {
    //     if (typeof fn === 'function') {
    //         let res = []
    //         for (let i = 0; i < arr.length; i++) {
    //             let resTemp = fn.call(arr, arr[i], i, arr)
    //             if (resTemp) res.push(arr[i])
    //         }
    //         return res
    //     } else {
    //         throw new Error(`${fn} must be a function`)
    //     }

    // }
    // let data = my_filter(function (e, i, arr) {
    //     console.log(this);
    //     console.log(e, i, arr);
    //     return e > 3
    // }, [1, 2, 3, 4, 5, 5, 6])
    // console.log(data);

    // // LazyMan 
    // function LazyMan(name) {
    //     class LazyMan_ {
    //         constructor(name) {
    //             // ä¿å­˜name
    //             this.name = name
    //             // ä»»åŠ¡æ‰§è¡Œé˜Ÿåˆ— é¦–å…ˆæ”¾å…¥ è‡ªæˆ‘ä»‹ç»å‡½æ•°
    //             this.tasks = [
    //                 () => {
    //                     console.log(`Hi,this is ${this.name}`);
    //                     this.next()
    //                 }
    //             ]
    //             // å®šæ—¶å™¨ å½“æ‰€æœ‰åŒæ­¥ä»»åŠ¡å®Œæˆåï¼ˆæ‰€æœ‰ä»»åŠ¡éƒ½åŠ è½½åˆ°tasksä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼‰ æ‰å¼€å§‹è¿è¡Œå®šæ—¶å™¨ä»»åŠ¡
    //             setTimeout(() => {
    //                 this.next()
    //             }, 0);
    //         }
    //         // å–å‡ºç¬¬ä¸€ä¸ªä»»åŠ¡å¼€å§‹æ‰§è¡Œ
    //         next() {
    //             let task = this.tasks.shift()
    //             task && task()
    //         }
    //         // å®šä¹‰eatå‡½æ•°
    //         eat(meal) {
    //             let fn = () => {
    //                 console.log(`Eat,${meal}`);
    //                 // æ‰§è¡Œå®Œeatå‡½æ•°æ‰§è¡Œä¸‹ä¸€ä¸ªå‡½æ•°
    //                 this.next()
    //             }
    //             // è£…è½½eatå‡½æ•°
    //             this.tasks.push(fn)
    //             // è¿”å› LazyMan_å®ä¾‹åŒ–å¯¹è±¡
    //             return this
    //         }
    //         sleep(time) {
    //             let fn = () => {
    //                 setTimeout(() => {
    //                     console.log(`${this.name} wake up ${time} ms `);
    //                     this.next()
    //                 }, time)
    //             }
    //             this.tasks.push(fn)
    //             return this
    //         }
    //         sleepFirst(time) {
    //             let fn = () => {
    //                 setTimeout(() => {
    //                     console.log(`${this.name} wake first ${time} ms `);
    //                     this.next()
    //                 }, time)
    //             }
    //             // æ’é˜Ÿæ”¾åˆ°æœ€å‰é¢æ‰§è¡Œ
    //             this.tasks.unshift(fn)
    //             return this
    //         }
    //     }
    //     return new LazyMan_(name)
    // }

    // let lazyMan = LazyMan('Hank')
    // lazyMan.eat('1').sleep(1000).eat('lunch').sleep(1000).eat('dinner').sleepFirst(1000)

    function myCurry(fn, ...args) {
        if (typeof fn !== 'function') {
            throw new Error('fn must be a function')
        }
        let self = this
        let len = fn.length
        if (args.length === len) {
            return fn.apply(self, args)
        } else {
            return function fn_2() {
                let args_2 = [...arguments]
                // console.log(args_2, len === args.length + args_2.length, [...args, ...args_2]);
                if (len === args.length + args_2.length) {
                    return fn.apply(self, [...args, ...args_2])
                } else {
                    args = args.concat(args_2)
                    return fn_2
                }
            }
        }
    }
    function add(a, b, c, d, e, f) {
        console.log();
        return a + b + c + d + e + f
    }
    console.log(myCurry(add, 1, 2)(3)(4)(5, 6));
</script>

</html>